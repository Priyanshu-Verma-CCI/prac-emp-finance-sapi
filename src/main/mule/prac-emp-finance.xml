<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<http:listener-config name="HTTP_Listener_config" doc:name="HTTP Listener config" doc:id="34654f69-3cff-4db7-a35d-87ef12a76674" basePath="finance">
		<http:listener-connection host="0.0.0.0" port="8081" />
	</http:listener-config>
	<flow name="prac-emp-financeFlow" doc:id="27243902-9e9d-44df-bad4-852647650a48" >
		<http:listener doc:name="Listener" doc:id="b9d6d8b8-51a7-4edc-9cf1-de12972650a4" config-ref="HTTP_Listener_config" path="employee"/>
		<logger level="INFO" doc:name="Logger" doc:id="4ae00d11-c3e9-4f01-8196-951fc677c55e" message="Flow started Successfullly"/>
		<ee:transform doc:name="Transform Message" doc:id="4b3c3eb3-4168-4dab-a134-0766bccd8ccc" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
[{
	"id": 1,
	"employee_name": "Tiger Nixon",
	"employee_salary": 320800,
	"employee_age": 61,
	"profile_image": ""
},{
	"id": 2,
	"employee_name": "Garrett Winters",
	"employee_salary": 170750,
	"employee_age": 63,
	"profile_image": ""
},{
	"id": 3,
	"employee_name": "Ashton Cox",
	"employee_salary": 86000,
	"employee_age": 66,
	"profile_image": ""
},{
	"id": 4,
	"employee_name": "Cedric Kelly",
	"employee_salary": 433060,
	"employee_age": 22,
	"profile_image": ""
},{
	"id": 5,
	"employee_name": "Airi Satou",
	"employee_salary": 162700,
	"employee_age": 33,
	"profile_image": ""
},{
	"id": 6,
	"employee_name": "Brielle Williamson",
	"employee_salary": 372000,
	"employee_age": 61,
	"profile_image": ""
},{
	"id": 7,
	"employee_name": "Herrod Chandler",
	"employee_salary": 137500,
	"employee_age": 59,
	"profile_image": ""
},{
	"id": 8,
	"employee_name": "Rhona Davidson",
	"employee_salary": 327900,
	"employee_age": 55,
	"profile_image": ""
},{
	"id": 9,
	"employee_name": "Colleen Hurst",
	"employee_salary": 205500,
	"employee_age": 39,
	"profile_image": ""
},{
	"id": 10,
	"employee_name": "Sonya Frost",
	"employee_salary": 103600,
	"employee_age": 23,
	"profile_image": ""
},{
	"id": 11,
	"employee_name": "Jena Gaines",
	"employee_salary": 90560,
	"employee_age": 30,
	"profile_image": ""
},{
	"id": 12,
	"employee_name": "Quinn Flynn",
	"employee_salary": 342000,
	"employee_age": 22,
	"profile_image": ""
},{
	"id": 13,
	"employee_name": "Charde Marshall",
	"employee_salary": 470600,
	"employee_age": 36,
	"profile_image": ""
},{
	"id": 14,
	"employee_name": "Haley Kennedy",
	"employee_salary": 313500,
	"employee_age": 43,
	"profile_image": ""
},{
	"id": 15,
	"employee_name": "Tatyana Fitzpatrick",
	"employee_salary": 385750,
	"employee_age": 19,
	"profile_image": ""
},{
	"id": 16,
	"employee_name": "Michael Silva",
	"employee_salary": 198500,
	"employee_age": 66,
	"profile_image": ""
},{
	"id": 17,
	"employee_name": "Paul Byrd",
	"employee_salary": 725000,
	"employee_age": 64,
	"profile_image": ""
},{
	"id": 18,
	"employee_name": "Gloria Little",
	"employee_salary": 237500,
	"employee_age": 59,
	"profile_image": ""
},{
	"id": 19,
	"employee_name": "Bradley Greer",
	"employee_salary": 132000,
	"employee_age": 41,
	"profile_image": ""
},{
	"id": 20,
	"employee_name": "Dai Rios",
	"employee_salary": 217500,
	"employee_age": 35,
	"profile_image": ""
},{
	"id": 21,
	"employee_name": "Jenette Caldwell",
	"employee_salary": 345000,
	"employee_age": 30,
	"profile_image": ""
},{
	"id": 22,
	"employee_name": "Yuri Berry",
	"employee_salary": 675000,
	"employee_age": 40,
	"profile_image": ""
},{
	"id": 23,
	"employee_name": "Caesar Vance",
	"employee_salary": 106450,
	"employee_age": 21,
	"profile_image": ""
},{
	"id": 24,
	"employee_name": "Doris Wilder",
	"employee_salary": 85600,
	"employee_age": 23,
	"profile_image": ""
}]]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
	<flow name="prac-emp-financeFlow1" doc:id="7b6cc9a8-e741-4a26-b709-75064024d336" >
		<http:listener doc:name="Listener" doc:id="e5127294-dcf5-4e81-a9f1-2bea4d7517ac" config-ref="HTTP_Listener_config" path="employee/{employeeId}"/>
		<logger level="INFO" doc:name="Logger" doc:id="ae5c4234-ef55-4121-a923-a8b915f798a3" message="Started Log Successfully"/>
		<ee:transform doc:name="Transform Message" doc:id="adcb855d-4da2-47f0-9680-4c7bcf56e1ab">
			<ee:message>
				<ee:set-payload><![CDATA[%dw 2.0
output application/json
---
[{
	"id": 1,
	"employee_name": "Tiger Nixon",
	"employee_salary": 320800,
	"employee_age": 61,
	"profile_image": ""
},{
	"id": 2,
	"employee_name": "Garrett Winters",
	"employee_salary": 170750,
	"employee_age": 63,
	"profile_image": ""
},{
	"id": 3,
	"employee_name": "Ashton Cox",
	"employee_salary": 86000,
	"employee_age": 66,
	"profile_image": ""
},{
	"id": 4,
	"employee_name": "Cedric Kelly",
	"employee_salary": 433060,
	"employee_age": 22,
	"profile_image": ""
},{
	"id": 5,
	"employee_name": "Airi Satou",
	"employee_salary": 162700,
	"employee_age": 33,
	"profile_image": ""
},{
	"id": 6,
	"employee_name": "Brielle Williamson",
	"employee_salary": 372000,
	"employee_age": 61,
	"profile_image": ""
},{
	"id": 7,
	"employee_name": "Herrod Chandler",
	"employee_salary": 137500,
	"employee_age": 59,
	"profile_image": ""
},{
	"id": 8,
	"employee_name": "Rhona Davidson",
	"employee_salary": 327900,
	"employee_age": 55,
	"profile_image": ""
},{
	"id": 9,
	"employee_name": "Colleen Hurst",
	"employee_salary": 205500,
	"employee_age": 39,
	"profile_image": ""
},{
	"id": 10,
	"employee_name": "Sonya Frost",
	"employee_salary": 103600,
	"employee_age": 23,
	"profile_image": ""
},{
	"id": 11,
	"employee_name": "Jena Gaines",
	"employee_salary": 90560,
	"employee_age": 30,
	"profile_image": ""
},{
	"id": 12,
	"employee_name": "Quinn Flynn",
	"employee_salary": 342000,
	"employee_age": 22,
	"profile_image": ""
},{
	"id": 13,
	"employee_name": "Charde Marshall",
	"employee_salary": 470600,
	"employee_age": 36,
	"profile_image": ""
},{
	"id": 14,
	"employee_name": "Haley Kennedy",
	"employee_salary": 313500,
	"employee_age": 43,
	"profile_image": ""
},{
	"id": 15,
	"employee_name": "Tatyana Fitzpatrick",
	"employee_salary": 385750,
	"employee_age": 19,
	"profile_image": ""
},{
	"id": 16,
	"employee_name": "Michael Silva",
	"employee_salary": 198500,
	"employee_age": 66,
	"profile_image": ""
},{
	"id": 17,
	"employee_name": "Paul Byrd",
	"employee_salary": 725000,
	"employee_age": 64,
	"profile_image": ""
},{
	"id": 18,
	"employee_name": "Gloria Little",
	"employee_salary": 237500,
	"employee_age": 59,
	"profile_image": ""
},{
	"id": 19,
	"employee_name": "Bradley Greer",
	"employee_salary": 132000,
	"employee_age": 41,
	"profile_image": ""
},{
	"id": 20,
	"employee_name": "Dai Rios",
	"employee_salary": 217500,
	"employee_age": 35,
	"profile_image": ""
},{
	"id": 21,
	"employee_name": "Jenette Caldwell",
	"employee_salary": 345000,
	"employee_age": 30,
	"profile_image": ""
},{
	"id": 22,
	"employee_name": "Yuri Berry",
	"employee_salary": 675000,
	"employee_age": 40,
	"profile_image": ""
},{
	"id": 23,
	"employee_name": "Caesar Vance",
	"employee_salary": 106450,
	"employee_age": 21,
	"profile_image": ""
},{
	"id": 24,
	"employee_name": "Doris Wilder",
	"employee_salary": 85600,
	"employee_age": 23,
	"profile_image": ""
}]]]></ee:set-payload>
			</ee:message>
		</ee:transform>
		<ee:transform doc:name="Transform Message" doc:id="7aabb17e-7127-4506-9c7e-e90203a9b697">
			<ee:message>
				<ee:set-payload><![CDATA[%dw 2.0
output application/json
---
(payload filter($.id as String == attributes.uriParams.employeeId))[0]]]></ee:set-payload>
			</ee:message>
		</ee:transform>
	</flow>
</mule>
